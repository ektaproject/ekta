(function(t){function e(e){for(var a,s,o=e[0],u=e[1],l=e[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"2e95":function(t,e,n){},"535d":function(t,e,n){"use strict";n("2e95")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],s={name:"App",data:function(){return{type:1}},created:function(){console.log(window.location.href),window.location.href.indexOf("list")>0?this.type=2:this.type=1}},o=s,u=(n("034f"),n("2877")),l=Object(u["a"])(o,i,r,!1,null,null,null),c=l.exports,p=n("b970"),d=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-box contenter-box"},[n("div",{staticClass:"head-box"},[n("transition",{attrs:{name:"van-slide-left"}},[n("div",{staticClass:"logo"},[t._v("Ekta Mining System")])])],1),n("div",{staticClass:"inter-box",on:{click:function(e){return t.showTask(1)}}},[n("div",{staticClass:"content-title"},[t._v("Compensation Pool")]),n("div",{staticClass:"cell-box"},[t._m(0),n("div",{staticClass:"div2"},[n("span",{staticClass:"s1"},[t._v("Wallet EKTA Balance ")]),n("span",{staticClass:"s2"},[t._v(t._s(t.ido.balance))])]),n("div",{staticClass:"div2"},[n("span",{staticClass:"s1"},[t._v("Wallet EMT Balance ")]),n("span",{staticClass:"s2"},[t._v(t._s(t.ido.mtoken_balance))])])])]),n("van-action-sheet",{staticClass:"action-box",attrs:{round:!1,"close-icon":"revoke",title:"BACK"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"title1"},[t._v("Mining $ekta")]),n("div",{staticClass:"cell-box"},[n("div",{staticClass:"div2"},[n("div",{staticClass:"d1"},[t._v("APY")]),n("div",{staticClass:"d2"},[n("span",{staticClass:"s1"},[t._v("> 500%")])])]),n("div",{staticClass:"div2"},[n("div",{staticClass:"d1"},[t._v("Deposit")]),n("div",{staticClass:"d2"},[n("span",{staticClass:"s1"},[t._v(t._s(t.ido.stake_amount)+" EMT")])])]),n("div",{staticClass:"div2 div3"},[n("div",{staticClass:"d1"},[t._v("Earned")]),n("div",{staticClass:"d2"},[n("span",{staticClass:"s1"},[t._v(t._s(t.ido.reward_amount)+" $ekta")]),n("div",{staticClass:"botton-box"},[n("van-button",{attrs:{icon:"replay",type:"default"},on:{click:t.getNewData}}),n("van-button",{attrs:{type:"default",disabled:t.claimDisabled},on:{click:t.claim}},[t._v("CLAIM")])],1)])])]),n("div",{staticClass:"tag-box"},[n("van-tabs",{model:{value:t.tagActive,callback:function(e){t.tagActive=e},expression:"tagActive"}},[n("van-tab",{attrs:{title:"DEPOSIT"}},[n("div",{staticClass:"tip"},[t._v("5% withdrawal fee")]),n("van-field",{attrs:{center:"",clearable:"",type:"number",label:"",placeholder:"0 EMT"},scopedSlots:t._u([{key:"button",fn:function(){return[n("van-button",{attrs:{size:"small"},on:{click:t.maxDepositNum}},[t._v("MAX")])]},proxy:!0}]),model:{value:t.num,callback:function(e){t.num=e},expression:"num"}}),n("div",{staticClass:"b-x"},[t._v("WALLET BALANCE: "),n("span",[t._v(t._s(t.ido.mtoken_balance)+" EMT")])])],1),n("van-tab",{attrs:{title:"WITHDRAW"}},[n("div",{staticClass:"tip"},[t._v("5% withdrawal fee")]),n("van-field",{attrs:{center:"",clearable:"",label:"",type:"number",placeholder:"0 EMT",disabled:!0},model:{value:t.ido.stake_amount,callback:function(e){t.$set(t.ido,"stake_amount",e)},expression:"ido.stake_amount"}})],1)],1)],1),n("div",{staticClass:"bottom-box"},[0==t.tagActive?n("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.approve}},[t._v("Stake")]):t._e(),1==t.tagActive?n("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.withdraw}},[t._v("Withdraw")]):t._e()],1)])]),n("van-dialog",{staticClass:"dialog-box",attrs:{"show-cancel-button":"",confirmButtonText:"OK",cancelButtonText:"Cancel","confirm-button-color":"#212429"},model:{value:t.showCode,callback:function(e){t.showCode=e},expression:"showCode"}},[n("div",{staticClass:"content1-box"},[t.showCode?n("div",{ref:"qrcodeContainer",staticClass:"code-box"}):t._e(),n("van-field",{staticClass:"num-box",attrs:{type:"textarea",label:"收款地址",placeholder:"地址"},model:{value:t.adress,callback:function(e){t.adress=e},expression:"adress"}})],1),n("van-button",{directives:[{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"},{name:"clipboard",rawName:"v-clipboard:copy",value:t.adress,expression:"adress",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],staticClass:"copy",attrs:{type:"primary"}},[t._v("复制地址")])],1)],1)},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div1"},[a("img",{attrs:{src:n("fe8a")}}),a("span",{staticClass:"s1"},[t._v("MINING $EKTA BY $EMT")])])}],f=n("1da1"),b=n("d4ec"),h=n("bee2"),v=(n("96cf"),n("a9e3"),n("ac1f"),n("1276"),n("d3b7"),n("25f0"),n("d044")),w=n.n(v),T=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"uint256",name:"_decimals",type:"uint256"},{internalType:"uint256",name:"_totalSupply",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"burn",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"issue",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"redeem",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],_=[{inputs:[{internalType:"contract ERC20",name:"_stakedToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"tokenRecovered",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AdminTokenRecovery",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"poolLimitPerUser",type:"uint256"}],name:"NewPoolLimit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"rewardPerBlock",type:"uint256"}],name:"NewRewardPerBlock",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startBlock",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endBlock",type:"uint256"}],name:"NewStartAndEndBlocks",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"withdrawFee",type:"uint256"}],name:"NewWithdrawFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"amountSharesRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"_addr",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"collect_reward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"collect_token",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_ref",type:"address"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"query_account",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"query_stake",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"query_summary",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_tokenAddress",type:"address"},{internalType:"uint256",name:"_tokenAmount",type:"uint256"}],name:"recoverWrongTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"refRewardRates",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakedToken",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_poolLimitPerUser",type:"uint256"}],name:"updatePoolLimitPerUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rewardPerBlock",type:"uint256"}],name:"updateRewardPerBlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_withdrawFee",type:"uint256"}],name:"updateWithdrawFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"bool",name:"activated",type:"bool"},{internalType:"address",name:"ref",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],g="0x5094088689BFc5EF71B34dE0Faa0D523baA7DD55",k="0x915A043bd58e6045B971a4E602c4fae43365987F",x="0xb7ca6e69D7d14aE9F068037F4B10Fb62F1DA8d19",C=function(){function t(e,n){Object(b["a"])(this,t),this.web3=e,this.account=n,this.contract_mtoken=new this.web3.eth.Contract(T,g),this.contract_farm=new this.web3.eth.Contract(_,k),console.log(this.contract_farm)}return Object(h["a"])(t,[{key:"index_page",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this,t.next=3,this.contract_farm.methods.query_account(this.account).call();case 3:return e=t.sent,this.activation=e[0],this.ref_addr=e[1],this.farm_allowance=Number(this.web3.utils.fromWei(e[2])),this.balance=Number(this.web3.utils.fromWei(e[3])),this.mtoken_balance=Number(this.web3.utils.fromWei(e[4])),this.bridge_balance=Number(this.web3.utils.fromWei(e[3])),t.next=12,this.contract_farm.methods.query_stake(this.account).call();case 12:return n=t.sent,console.log("query_stake数据:",n),this.stake_amount=Number(this.web3.utils.fromWei(n[0])),this.shares=n[1],this.rewardDebt=Number(this.web3.utils.fromWei(n[2])),this.reward_amount=Number(this.web3.utils.fromWei(n[3])),a={},a.balance=this.balance,a.bridge_balance=this.bridge_balance,a.mtoken_balance=this.mtoken_balance,a.farm_allowance=this.farm_allowance,a.ref_addr=this.ref_addr,a.rewardDebt=this.rewardDebt,a.reward_amount=this.reward_amount,a.stake_amount=this.stake_amount,a.shares=this.shares,t.abrupt("return",a);case 29:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getQueryVariable",value:function(t){for(var e=window.location.href,n=e.substring(e.indexOf("?")+1),a=n.split("&"),i=0;i<a.length;i++){var r=a[i].split("=");if(r[0]==t)return r[1]}return!1}},{key:"deposit",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e>=0)){t.next=10;break}return n=this,a=e,i="",i=this.activation?this.ref_addr:this.getQueryVariable("ref")?this.getQueryVariable("ref"):x,console.log(a,i,this.account),t.next=8,this.contract_farm.methods.deposit(this.web3.utils.toWei(a),i).send({from:this.account}).then((function(t){console.log(t),alert("Waiting for confirmation,the hash is："+t.transactionHash),n.waitForReceipt(t.transactionHash,6,(function(t){return console.log("result: "+t.status),!0}))}));case 8:t.next=11;break;case 10:alert("The number should be more than 0");case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"withdraw",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,this.stake_amount.toString(),"",this.activation?this.ref_addr:this.getQueryVariable("ref")?this.getQueryVariable("ref"):x,t.next=6,this.contract_farm.methods.withdraw().send({from:this.account}).then((function(t){console.log(t),alert("Waiting for confirmation,the hash is："+t.transactionHash),e.waitForReceipt(t.transactionHash,6,(function(t){return console.log("result: "+t.status),!0}))}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"claim",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,this.contract_farm.methods.claim().send({from:this.account}).then((function(t){alert("Waiting for confirmation,the hash is："+t.transactionHash),e.waitForReceipt(t.transactionHash,6,(function(t){return console.log("result: "+t.status),!0}))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"waitForReceipt",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e,n,a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e,n),!(n<=0)){t.next=4;break}return alert("waitForReceipt timeout"),t.abrupt("return");case 4:return t.next=6,this.web3.eth.getTransactionReceipt(e);case 6:if(i=t.sent,null==i){t.next=11;break}a(i),t.next=15;break;case 11:return console.log(e,n),t.next=14,this.sleep(1500);case 14:this.waitForReceipt(e,n-1,a);case 15:case"end":return t.stop()}}),t,this)})));function e(e,n,a){return t.apply(this,arguments)}return e}()},{key:"sleep",value:function(t){return new Promise((function(e){setTimeout(e,t)}))}},{key:"init",value:function(){}}]),t}(),M={name:"pledge",data:function(){return{show:!1,tagActive:0,num:"",num1:"",active:2,showCode:!1,adress:"",ido:{},claimDisabled:!0,idoBolle:null}},props:{},mounted:function(){},watch:{},created:function(){var t=this;if(this.$toast.loading({duration:0,message:"Connect BSC Wallet...",forbidClick:!0}),window.ethereum)try{window.ethereum.enable().then((function(e){console.log(e);var n=new Web3(window.ethereum),a=new C(n,e[0]);return new Promise((function(t,e){var n=a.index_page();t(n)})).then((function(e){t.ido=e,t.$toast.clear(),e.reward_amount>0&&(t.claimDisabled=!1),t.idoBolle=a,console.log(333),console.log(t.ido)})).catch((function(){console.log("this.error"),t.$toast("Connect Error")}))}))}catch(e){alert(e)}else alert("need dapp browser")},methods:{maxDepositNum:function(){var t=this;console.log(this.ido),this.$nextTick((function(){t.num=t.ido.mtoken_balance,console.log(t.num)}))},maxApproveNum:function(){var t=this;this.$nextTick((function(){t.num1=t.ido.stake_amount}))},initData:function(){var t=this;return new Promise((function(e,n){var a=t.idoBolle.index_page();e(a)})).then((function(e){t.ido=e,e.reward_amount>0&&(t.claimDisabled=!1),t.show=!1}))},getNewData:function(){var t=this;return console.log("刷新页面"),this.$toast.loading({duration:0,message:"Please Wait...",forbidClick:!0}),new Promise((function(e,n){var a=t.idoBolle.index_page();e(a)})).then((function(e){t.ido=e,setTimeout((function(){t.$toast.success("Success")}),3e3)}))},deposit:function(){var t=this;return new Promise((function(e,n){t.$toast.loading({duration:0,message:"Please Wait...",forbidClick:!0});var a=t.idoBolle.deposit(t.num);e(a)})).then((function(e){t.$toast.clear(),t.num="",t.initData()}))},approve:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.num<=0)){e.next=3;break}return t.$toast("The number should be more than 0"),e.abrupt("return",!1);case 3:if(!(t.num>t.ido.mtoken_balance)){e.next=6;break}return t.$toast("The amount should not exceed the EMT balance"),e.abrupt("return",!1);case 6:return e.abrupt("return",new Promise((function(e,n){if(t.$toast.loading({duration:0,message:"loading...",forbidClick:!0}),0==t.ido.balance||0==t.ido.mtoken_balance)return alert("Failed to connect to wallet, please confirm current account balance"),!1;var a=!0;t.ido.farm_allowance<t.ido.mtoken_balance&&(a=!1,alert("This operation authorises"+t.num+"EMT to smart contract"),t.$toast.loading({duration:0,message:"Please Wait...",forbidClick:!0}),t.idoBolle.contract_mtoken.methods.approve(k,t.idoBolle.web3.utils.toWei("9999999999")).send({from:t.idoBolle.account}).then((function(e){alert("Waiting for confirmation,the hash is："+e.transactionHash),t.idoBolle.waitForReceipt(e.transactionHash,6,(function(e){t.$toast.clear(),t.$dialog.confirm({message:"Confirming deposit?",confirmButtonText:"Yes",cancelButtonText:"No",theme:"round-button"}).then((function(){t.deposit()})).catch((function(){}))}))})).catch((function(){t.$toast.clear()}))),console.log("审核状态:"+a),a&&(t.$toast.clear(),t.$dialog.confirm({message:"Confirming deposit?",confirmButtonText:"Yes",cancelButtonText:"No",theme:"round-button"}).then((function(){t.deposit()})).catch((function(){t.$toast.clear()})))})).then((function(t){})));case 7:case"end":return e.stop()}}),e)})))()},withdraw:function(){var t=this;return new Promise((function(e,n){t.$toast.loading({duration:0,message:"loading...",forbidClick:!0});var a=t.idoBolle.withdraw();e(a)})).then((function(e){t.$toast.clear(),t.num1=0,t.initData()}))},claim:function(){var t=this;return new Promise((function(e,n){t.$toast.loading({duration:0,message:"claim...",forbidClick:!0});var a=t.idoBolle.claim();e(a)})).then((function(e){t.$toast.clear(),t.initData()}))},qrcode:function(t){new w.a(this.$refs.qrcodeContainer,{width:150,height:150,text:t||"",colorDark:"#000",colorLight:"#fff",correctLevel:w.a.CorrectLevel.H})},onCopy:function(t){this.$toast.success("COPYED")},onError:function(t){this.$toast.fail("FAIL")},changeTab:function(t){0!=t&&2!=t&&this.$router.push({path:"/tron/staking"})},showTask:function(t){this.show=!0}}},$=M,B=(n("535d"),Object(u["a"])($,m,y,!1,null,"30112f69",null)),E=B.exports;a["default"].use(d["a"]);var P=new d["a"]({routes:[{path:"/",component:E,meta:{title:"Ekta Mining System"}},{path:"/bsc/staking",component:E,meta:{title:"Ekta Mining System"}}]}),R=(n("157a"),3321823.832824),O=0,D={USDT:R,MTOKEN:O},W=n("bc3a"),A=n.n(W),N="";function F(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=n,new Promise((function(n,a){A.a.post(t,e).then((function(t){n(t.data)}),(function(t){a(t)}))}))}function j(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=n,new Promise((function(n,a){A.a.get(t,e).then((function(t){n(t.data)}),(function(t){a(t)}))}))}N="https://bridge.defi.dev",A.a.defaults.timeout=1e4,A.a.defaults.baseURL=N,A.a.interceptors.request.use((function(t){return t.url&&(t.headers["Content-Type"]="application/json",t.headers["connection"]="keep-alive"),t}),(function(t){return Promise.reject(t)}));var S=n("4eb5"),L=n.n(S),q=n("5c96"),H=n.n(q);n("0fae"),n("acd6");a["default"].use(L.a),a["default"].use(H.a),a["default"].use(p["a"]),a["default"].config.productionTip=!1,a["default"].prototype.SERVICE=D,a["default"].prototype.$post=F,a["default"].prototype.$get=j,new a["default"]({router:P,render:function(t){return t(c)}}).$mount("#app")},"85ec":function(t,e,n){},acd6:function(t,e,n){},fe8a:function(t,e,n){t.exports=n.p+"img/loD.b710a7cf.png"}});
//# sourceMappingURL=app.ad7838a8.js.map